# 리펙토링 과정
## 10/16 목
### 리펙토링 시작
- 레퍼런스 카운트 관리 클래스 CBase 생성
- CObject 클래스 생성
- CPlayer, CMap, Cbullet 생성
- Default 헤더 생성
- 전역변수, 함수들을 각각의 클래스, Default헤더로 옮겼음

### 버그 수정 및 기능 구현 필요 사항
- 더블 점프 안되는 오류 (GetKeyState -> 키 누름 상태 유지 문제) 수정 필요 (총알도 연사되는 문제있음)
- 기존 게임에도 있던 문제인데, 오른쪽키 누른 상태에서 왼쪽키 누르면 가던 방향으로 계속 감
- 승리/패배 결과 출력 필요
- 사운드 효과 추가 필요 (총알 발사음, 아이템 획득음 등)
- 일시정지 메뉴 구현 필요

## 10/17 금
- 플레이어 함수 구현
- 레벨 클래스 생성 후 구조 만들기
- 비트맵 클래스 생성 후 구조 만들기

# 추가점
- 키매니저 적용
- 비트맵매니저 적용
- 사운드매니저 적용
- 불릿을 플레이어에서 분리
- 일시정지는 서버 적용을 위해 제거
- 대기방 기능은 추가해야함

# <서버-클라 통신>
## 클라이언트
- **이동만 되는 게임을 우선 구현하도록 하자.
- 클라는 서버에게 인풋 패킷을 넘긴다
- 클라 쪽에서는 서버 패킷을 받아 출력할 준비가 되어 있어야함
- 출력할 준비 = (상대방 플레이어와 나 자신) -> 일단 상대방 플레이어 생각 x. 내 위치부터 서버랑 통신하기
- 클라이언트의 플레이어 업데이트 : 서버에게 인풋 패킷 넘기기, 서버 패킷 받기, 받은 패킷으로 내 위치 업데이트
- 다른 객체의 업데이트 : 서버 패킷 받기, 받은 패킷으로 객체 위치 업데이트 